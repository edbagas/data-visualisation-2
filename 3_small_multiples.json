{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "repeat": 
       ["Population", "Score", "Value"],  
    "columns": 3,
    "spec": {
      "data": {"url": "https://raw.githubusercontent.com/edbagas/data-visualisation-2/main/data/internet_population_happiness_gdp.csv"},
      "transform": [
        {"filter":"datum.Population > 0"}
      ],
      "mark": "circle",
      "encoding": {
        "x": {"field": {"repeat": "repeat"}, "type": "quantitative"},
        "y": {
          "field": "internetuserate",
          "type": "quantitative"
        },
        "color":{"field":"continent"},
        "size": {
            "field": "urbanrate",
            "type": "quantitative",
            "title": "Urban Rate",
            "scale": {
                "type": "threshold",
                "domain": [20, 40, 60, 80],
                "range": [0, 100]
            },
            "legend": {"format": ".1s"}
        }
      }
    }     
}